```mermaid
┌─────────────────┐     ┌─────────────────────────┐     ┌───────────────────┐
│ PolicyDecorator │────>│ EnvironmentPolicyManager │<────│ PolicyRuleEngine  │
└─────────────────┘     └─────────────────────────┘     └───────────────────┘
        │                          │                             │
        │                          │                             │
        ▼                          ▼                             ▼
┌─────────────────┐      ┌──────────────────┐          ┌───────────────────┐
│ FunctionWrapper │      │ EnvironmentCache │          │ ValidationRule    │
└─────────────────┘      └──────────────────┘          └───────────────────┘
                                  │                             │
                                  │                             │
                                  ▼                             ▼
                         ┌──────────────────┐          ┌───────────────────┐
                         │ EnvironmentType  │          │ ValidationResult  │
                         └──────────────────┘          └───────────────────┘
```